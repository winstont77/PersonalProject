import{f as v,o as M,a as f,c as g,b as e,F as I,g as B,w as y,v as b,t as n,r as P,d as N,p as H,e as F}from"./index-08797ec5.js";import{a as T}from"./axios-82afda87.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";const R={setup(){let c=v([]),i=v(!1),_=v(0),s=v(""),d=v({}),p=v(100),t=v(""),u=v(!1),h=()=>{const l=new Date,a=l.getFullYear(),o=String(l.getMonth()+1).padStart(2,"0"),m=String(l.getDate()).padStart(2,"0"),D=String(l.getHours()).padStart(2,"0"),k=String(l.getSeconds()).padStart(2,"0");return`${a}-${o}-${m}T${D}:${k}:00Z`},x=l=>{p.value=l.target.value},S=(l,a,o)=>{_.value=o,s.value=a,i.value=!0,d.value=c.value[l],console.log(d.value),u.value=!0},C=l=>{i.value=l},w=l=>{if(l.preventDefault(),TPDirect.card.getTappayFieldsStatus().canGetPrime===!1){alert("can not get prime");return}TPDirect.card.getPrime(o=>{if(o.status!==0){alert("get prime error "+o.msg);return}alert("get prime 成功，prime: "+o.card.prime),console.log(o),t.value=o.card.prime,T.post("https://localhost:7109/PostBets",{Bet:{EventId:d.value.id,DateTime:h().toString(),Money:p.value,AwayTeamName:d.value.awayTeamName,AwayTeamOdds:d.value.awayTeamOdds,HomeTeamName:d.value.homeTeamName,HomeTeamOdds:d.value.homeTeamOdds,Sports:d.value.sports,BetTeamOdds:_.value,BetTeamName:s.value,Prime:"",UserId:localStorage.getItem("userId")},UserName:localStorage.getItem("username"),EventId:d.value.id,Prime:t.value},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(m=>{console.log(m)}).catch(m=>{console.log(m),localStorage.removeItem("token"),P.push({path:"/signin"})})})};return M(()=>{T.get("https://localhost:7109/GetEvents").then(a=>{console.log(a),a.data.forEach(o=>{o.sports==="basketball"&&c.value.push(o)})}).catch(a=>{console.log(a)});let l={number:{element:"#card-number",placeholder:"**** **** **** ****"},expirationDate:{element:"#card-expiration-date",placeholder:"MM / YY"},ccv:{element:"#card-ccv",placeholder:"ccv"}};TPDirect.card.setup({fields:l,styles:{input:{color:"gray"},"input.ccv":{},"input.card-expiration-date":{},"input.card-number":{},":focus":{},".valid":{color:"green"},".invalid":{color:"red"},"@media screen and (max-width: 400px)":{input:{color:"orange"}}},isMaskCreditCardNumber:!0,maskCreditCardNumberRange:{beginIndex:6,endIndex:11}}),TPDirect.card.onUpdate(function(a){a.canGetPrime,a.cardType,a.status.number===2||a.status.number,a.status.expiry===2||a.status.expiry,a.status.ccv===2||a.status.ccv})}),{schedule:c,displayBetResult:i,selectodds:_,selectteamname:s,selectevent:d,betMoney:p,betResultDisplay:u,updateBetMoney:x,selectTeam:S,handleBetResultEmit:C,sendCard:w}}},r=c=>(H("data-v-fa12b934"),c=c(),F(),c),O={class:"wcl-PageContainer_Colcontainer"},E={class:"wcl-PageContainer_Col1"},G={class:"wcl-CommonElementStyle_PrematchCenter"},z={class:"sm-Header"},A=N('<div class="sm-Header_Title" data-v-fa12b934><div class="sm-Header_TitleText" data-v-fa12b934>籃球</div></div><div class="sm-Header_Nav" data-v-fa12b934><div class="sph-LiveInPlayHeader" data-v-fa12b934><div class="sph-LiveInPlayHeader_Scroller" data-v-fa12b934><div class="sph-HorizontalLiveNavBarScroller_Wrapper" data-v-fa12b934><div class="sph-HorizontalLiveNavBarScroller_Contents" data-v-fa12b934><div class="sph-LiveInPlayButtonBarButton" data-v-fa12b934>投注</div><div data-v-fa12b934></div><div data-v-fa12b934></div></div></div></div><div data-v-fa12b934></div></div></div>',2),U={class:"sm-SplashModule"},Y={class:"gl-MarketGrid"},V=r(()=>e("div",{class:"ff-FeaturedFixtureLoader"},[e("div",null,[e("div",{class:"ff-Header"},[e("div",{class:"ff-Header_Title"},"精選賽事")])])],-1)),W={class:"gl-MarketGroup_Wrapper"},Z={class:"gl-MarketGroupContainer"},j={class:"sgl-MarketFixtureDetailsLabel-table"},q=r(()=>e("tr",{style:{"background-color":"#222"},class:"sgl-MarketFixtureDetailsLabel-table-header"},[e("th",null,"日期"),e("th",null,"時間"),e("th",null,"隊伍"),e("th",null,"賠率")],-1)),J={class:"sgl-MarketFixtureDetailsLabel-table-content"},K={style:{display:"flex"}},Q=["onClick"],X={href:"#creditCard",style:{color:"#fff"}},$={style:{width:"5%"}},ee=r(()=>e("span",{style:{width:"20%"}},"vs",-1)),te={style:{width:"5%"}},ae=["onClick"],se={href:"#creditCard",style:{color:"#fff"}},le={class:"betResult"},oe={class:"betResult-content"},de={class:"betResult-content-table"},ne=r(()=>e("tr",null,[e("th",null,"投注金額"),e("th",null,"賠率"),e("th",{style:{width:"60%"}},"投注隊伍")],-1)),ie={style:{display:"flex"}},re={style:{display:"flex","margin-top":"30px"},id:"creditCard"},ce={style:{display:"flex","flex-direction":"column",margin:"auto"}},ve=r(()=>e("div",{style:{margin:"auto",color:"#DDDDDD"}},"信用卡資料",-1)),ue=r(()=>e("div",{class:"tpfield",id:"card-number"},null,-1)),me=r(()=>e("div",{class:"tpfield",id:"card-expiration-date"},null,-1)),_e=r(()=>e("div",{class:"tpfield",id:"card-ccv"},null,-1)),pe=r(()=>e("div",{style:{margin:"auto",border:"1px solid gray",padding:"5px 10px"}},"確認",-1)),he=[pe],fe={class:"betResult-content-surebutton"},ge={class:"betResult-content-surebutton-content"};function ye(c,i,_,s,d,p){return f(),g("div",O,[e("div",E,[e("div",G,[e("div",z,[A,e("div",U,[e("div",Y,[V,e("div",W,[e("div",Z,[e("table",j,[q,(f(!0),g(I,null,B(s.schedule,(t,u)=>y((f(),g("tr",J,[e("td",null,[e("div",null,n(t.dateTime.split("T")[0]),1)]),e("td",null,n(t.dateTime.split("T")[1].split("Z")[0]),1),e("td",K,[e("span",{onClick:h=>s.selectTeam(u,t.awayTeamName,t.awayTeamOdds),style:{width:"35%"},class:"gl-MarketFixtureDetailsLabel-table-content-away"},[e("a",X,n(t.awayTeamName),1)],8,Q),e("span",$,n(t.awayTeamPoint),1),ee,e("span",te,n(t.homeTeamPoint),1),e("span",{onClick:h=>s.selectTeam(u,t.homeTeamName,t.homeTeamOdds),class:"gl-MarketFixtureDetailsLabel-table-content-home",style:{width:"35%"}},[e("a",se,n(t.homeTeamName),1)],8,ae)]),e("td",null,n(t.awayTeamOdds)+" : "+n(t.homeTeamOdds),1)],512)),[[b,!t.closeEvent]])),256))])])])]),y(e("div",le,[e("div",oe,[e("div",de,[e("table",null,[ne,e("tr",null,[e("td",null,n(s.betMoney),1),e("td",null,n(s.selectodds),1),e("td",null,n(s.selectteamname),1)])])]),e("div",ie,[e("input",{type:"range",class:"betmoneyinputrange",min:"100",max:"5000",step:"100",value:"50",onInput:i[0]||(i[0]=(...t)=>s.updateBetMoney&&s.updateBetMoney(...t))},null,32)]),e("div",re,[e("div",ce,[ve,ue,me,_e,y(e("div",{onClick:i[1]||(i[1]=(...t)=>s.sendCard&&s.sendCard(...t)),style:{display:"flex"}},he,512),[[b,!1]])])]),e("div",fe,[e("div",ge,[e("div",{class:"betResult-content-surebutton-text",onClick:i[2]||(i[2]=(...t)=>s.sendCard&&s.sendCard(...t))},"確認")])])])],512),[[b,s.betResultDisplay]])])])])])])}const Se=L(R,[["render",ye],["__scopeId","data-v-fa12b934"]]);export{Se as default};
